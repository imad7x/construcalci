<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Construction Cost Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div>
                        <h1>House Construction Cost Tracker</h1>
                        <p class="header-subtitle">Unified project expense management</p>
                        <div class="project-stats">
                            <span class="stat-item">Total: <span id="totalProjectCost">₹28,53,689</span></span>
                            <span class="stat-item">Entries: <span id="totalEntries">190</span></span>
                        </div>
                    </div>
                    <div class="sync-status">
                        <div class="sync-indicator" id="syncIndicator">
                            <span class="sync-dot"></span>
                            <span class="sync-text">Offline</span>
                        </div>
                        <div class="last-sync" id="lastSync">Never synced</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <div class="container">
                <button class="tab-btn active" data-tab="all-entries">All Entries</button>
                <button class="tab-btn" data-tab="add-entry">Add Entry</button>
                <button class="tab-btn" data-tab="analytics">Analytics</button>
                <button class="tab-btn" data-tab="change-log">Change Log</button>
                <button class="tab-btn" data-tab="settings">Settings</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                
                <!-- All Entries Section -->
                <section id="all-entries" class="tab-content active">
                    <div class="section-header">
                        <h2>All Construction Entries</h2>
                        <div class="section-actions">
                            <button class="btn btn--outline btn--sm" id="exportData">Export Data</button>
                            <button class="btn btn--secondary btn--sm" id="manualSync">Sync Now</button>
                        </div>
                    </div>
                    
                    <div class="entries-controls">
                        <div class="search-filter-row">
                            <div class="form-group">
                                <input type="text" id="searchEntries" class="form-control" placeholder="Search entries...">
                            </div>
                            <div class="form-group">
                                <select id="filterCategory" class="form-control">
                                    <option value="">All Categories</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <select id="sortEntries" class="form-control">
                                    <option value="date-desc">Date (Newest First)</option>
                                    <option value="date-asc">Date (Oldest First)</option>
                                    <option value="amount-desc">Amount (Highest First)</option>
                                    <option value="amount-asc">Amount (Lowest First)</option>
                                    <option value="category">Category (A-Z)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="entries-summary">
                        <div class="summary-stats">
                            <span class="summary-item">Showing: <span id="filteredCount">190</span> entries</span>
                            <span class="summary-item">Total: <span id="filteredTotal">₹28,53,689</span></span>
                        </div>
                    </div>
                    
                    <div class="table-container">
                        <table class="entries-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Amount</th>
                                    <th>Notes</th>
                                    <th>Original Floor</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="entriesTableBody">
                            </tbody>
                        </table>
                    </div>

                    <div class="pagination" id="pagination" style="display: none;">
                        <button class="btn btn--outline btn--sm" id="prevPage">Previous</button>
                        <span class="page-info" id="pageInfo">Page 1 of 1</span>
                        <button class="btn btn--outline btn--sm" id="nextPage">Next</button>
                    </div>
                </section>

                <!-- Add Entry Section -->
                <section id="add-entry" class="tab-content">
                    <h2>Add New Entry</h2>
                    
                    <div class="form-container">
                        <form id="addEntryForm" class="add-entry-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="entryDate" class="form-label">Date</label>
                                    <input type="date" id="entryDate" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="entryCategory" class="form-label">Category</label>
                                    <select id="entryCategory" class="form-control" required>
                                        <option value="">Select Category</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="entryAmount" class="form-label">Amount (₹)</label>
                                    <input type="number" id="entryAmount" class="form-control" min="0" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label for="originalFloor" class="form-label">Original Floor</label>
                                    <select id="originalFloor" class="form-control" required>
                                        <option value="">Select Floor</option>
                                        <option value="Ground">Ground Floor</option>
                                        <option value="First">First Floor</option>
                                        <option value="Second">Second Floor</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group" id="customCategoryGroup" style="display: none;">
                                <label for="customCategory" class="form-label">Custom Category</label>
                                <input type="text" id="customCategory" class="form-control" placeholder="Enter custom category">
                            </div>
                            
                            <div class="form-group">
                                <label for="entryNotes" class="form-label">Notes</label>
                                <textarea id="entryNotes" class="form-control" rows="3" placeholder="Enter any notes or details"></textarea>
                            </div>
                            
                            <button type="submit" class="btn btn--primary btn--full-width">Add Entry</button>
                        </form>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section id="analytics" class="tab-content">
                    <h2>Project Analytics</h2>
                    
                    <div class="analytics-container">
                        <div class="analytics-overview">
                            <div class="analytics-cards">
                                <div class="card">
                                    <div class="card__body">
                                        <h3>Ground Floor</h3>
                                        <div class="floor-amount" id="groundFloorTotal">₹0</div>
                                        <div class="floor-entries" id="groundFloorEntries">0 entries</div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card__body">
                                        <h3>First Floor</h3>
                                        <div class="floor-amount" id="firstFloorTotal">₹0</div>
                                        <div class="floor-entries" id="firstFloorEntries">0 entries</div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card__body">
                                        <h3>Second Floor</h3>
                                        <div class="floor-amount" id="secondFloorTotal">₹0</div>
                                        <div class="floor-entries" id="secondFloorEntries">0 entries</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="category-analysis">
                            <div class="form-group">
                                <label for="analysisCategory" class="form-label">Select Category for Analysis</label>
                                <select id="analysisCategory" class="form-control">
                                    <option value="">Choose a category to analyze</option>
                                </select>
                            </div>
                            
                            <div id="analysisResults" class="analysis-results" style="display: none;">
                                <div class="analysis-summary">
                                    <h3 id="analysisCategoryName"></h3>
                                    <div class="analysis-total" id="analysisTotalAmount">₹0</div>
                                    <div class="analysis-percentage" id="analysisPercentage">0% of total project cost</div>
                                </div>
                                
                                <div class="analysis-breakdown">
                                    <h4>Breakdown by Original Floor</h4>
                                    <div class="breakdown-cards">
                                        <div class="card">
                                            <div class="card__body">
                                                <h5>Ground Floor</h5>
                                                <div class="breakdown-amount" id="analysisGroundAmount">₹0</div>
                                                <div class="breakdown-entries" id="analysisGroundEntries">0 entries</div>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card__body">
                                                <h5>First Floor</h5>
                                                <div class="breakdown-amount" id="analysisFirstAmount">₹0</div>
                                                <div class="breakdown-entries" id="analysisFirstEntries">0 entries</div>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card__body">
                                                <h5>Second Floor</h5>
                                                <div class="breakdown-amount" id="analysisSecondAmount">₹0</div>
                                                <div class="breakdown-entries" id="analysisSecondEntries">0 entries</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Change Log Section -->
                <section id="change-log" class="tab-content">
                    <h2>Change Log</h2>
                    
                    <div class="change-log-container">
                        <div class="change-log-header">
                            <div class="form-group">
                                <label for="logFilter" class="form-label">Filter by Action</label>
                                <select id="logFilter" class="form-control">
                                    <option value="">All Actions</option>
                                    <option value="create">Create</option>
                                    <option value="update">Update</option>
                                    <option value="delete">Delete</option>
                                </select>
                            </div>
                        </div>

                        <div class="change-log-list" id="changeLogList">
                            <div class="empty-state">No changes recorded yet</div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings" class="tab-content">
                    <h2>Settings</h2>
                    
                    <div class="settings-container">
                        <div class="settings-section">
                            <h3>GitHub Integration</h3>
                            <div class="form-group">
                                <label for="githubOwner" class="form-label">Repository Owner</label>
                                <input type="text" id="githubOwner" class="form-control" placeholder="your-username">
                            </div>
                            <div class="form-group">
                                <label for="githubRepo" class="form-label">Repository Name</label>
                                <input type="text" id="githubRepo" class="form-control" placeholder="construction-cost-tracker">
                            </div>
                            <div class="form-group">
                                <label for="githubToken" class="form-label">Personal Access Token</label>
                                <input type="password" id="githubToken" class="form-control" placeholder="Enter your GitHub PAT">
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="checkbox" id="autoSync"> Auto-sync changes
                                </label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>Security</h3>
                            <div class="form-group">
                                <label for="currentPassword" class="form-label">Current Password</label>
                                <input type="password" id="currentPassword" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="newPassword" class="form-label">New Password</label>
                                <input type="password" id="newPassword" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword" class="form-label">Confirm New Password</label>
                                <input type="password" id="confirmPassword" class="form-control">
                            </div>
                            <button type="button" class="btn btn--primary" id="changePassword">Change Password</button>
                        </div>

                        <div class="settings-section">
                            <h3>Data Management</h3>
                            <div class="settings-actions">
                                <input type="file" id="importFile" accept=".json" style="display: none;">
                                <button type="button" class="btn btn--secondary" id="importData">Import Data</button>
                                <button type="button" class="btn btn--outline" id="exportAllData">Export All Data</button>
                                <button type="button" class="btn btn--primary" id="testConnection">Test GitHub Connection</button>
                            </div>
                        </div>

                        <div class="settings-footer">
                            <button type="button" class="btn btn--primary btn--full-width" id="saveSettings">Save Settings</button>
                        </div>
                    </div>
                </section>

            </div>
        </main>

        <!-- Password Modal -->
        <div class="modal hidden" id="passwordModal">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Authentication Required</h3>
                </div>
                <div class="modal-body">
                    <p>This action requires authentication. Please enter your password:</p>
                    <div class="form-group">
                        <input type="password" id="modalPassword" class="form-control" placeholder="Enter password" autocomplete="current-password">
                    </div>
                    <div class="error-message hidden" id="passwordError">Incorrect password. Please try again.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelAuth">Cancel</button>
                    <button type="button" class="btn btn--primary" id="confirmAuth">Authenticate</button>
                </div>
            </div>
        </div>

        <!-- Edit Entry Modal -->
        <div class="modal hidden" id="editModal">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Edit Entry</h3>
                </div>
                <div class="modal-body">
                    <form id="editEntryForm">
                        <div class="form-group">
                            <label for="editDate" class="form-label">Date</label>
                            <input type="date" id="editDate" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="editCategory" class="form-label">Category</label>
                            <input type="text" id="editCategory" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="editAmount" class="form-label">Amount (₹)</label>
                            <input type="number" id="editAmount" class="form-control" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="editOriginalFloor" class="form-label">Original Floor</label>
                            <select id="editOriginalFloor" class="form-control" required>
                                <option value="Ground">Ground Floor</option>
                                <option value="First">First Floor</option>
                                <option value="Second">Second Floor</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editNotes" class="form-label">Notes</label>
                            <textarea id="editNotes" class="form-control" rows="2"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelEdit">Cancel</button>
                    <button type="button" class="btn btn--primary" id="saveEdit">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>